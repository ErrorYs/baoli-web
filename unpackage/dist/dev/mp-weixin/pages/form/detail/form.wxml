<view hidden="{{!(showPage)}}"><form bindreset="formReset" data-event-opts="{{[['submit',[['formSubmit',['$event']]]]]}}" bindsubmit="__e"><view class="content"><block wx:if="{{form.head_type==1}}"><view><view class="banner"><image src="{{form.head_type_value_url[0]}}" mode="widthFix"></image></view></view></block><block wx:else><block wx:if="{{form.head_type==2}}"><view><view><view class="sw"><swiper><block wx:for="{{form.head_type_value_url}}" wx:for-item="item" wx:for-index="item_index" wx:key="item_index"><swiper-item><image class="slide-image" src="{{item}}" mode="widthFix"></image></swiper-item></block></swiper></view></view></view></block><block wx:else><block wx:if="{{form.head_type==3}}"><view><view class="video"><video src="{{form.head_type_video_url[0]}}" poster="{{form.head_type_value_url[0]}}"></video></view></view></block></block></block><block wx:if="{{form.desc!=''}}"><view><view class="plaintext"><text>{{form.desc}}</text></view></view></block><view class="input-box"><block wx:for="{{form.items}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><block wx:if="{{item.type=='goods'}}"><view class="goods-box-item"><image class="goods-img" src="{{item.goods.image_url}}" mode="aspectFit"></image><view class="goods-right"><view class="goods-name">{{item.name}}</view><view class="goods-mid"><text>{{"已售"+item.goods.buy_count}}</text></view><view class="goods-buttom"><view class="goods-price">{{"￥"+item.goods.price}}</view><view class="choose-specs" data-type="1" data-goods="{{item.goods.id}}" data-id="{{item.id}}" data-statu="openspecs" data-event-opts="{{[['tap',[['specifications',['$event','$0'],[[['form.items','',index]]]]]]]}}" bindtap="__e">选规格</view><block wx:if="{{item.cart_count>0}}"><text class="order-num">{{item.cart_count}}</text></block></view></view></view></block><block wx:if="{{item.type=='text'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><input class="ib-item-input" type="text" name="{{''+item.id}}" data-id="{{item.id}}" placeholder-class="ib-item-input-c" placeholder="{{'请输入'+item.name}}" data-event-opts="{{[['input',[['__set_model',['$0','default_value','$event',[]],[[['form.items','',index]]]]]]]}}" value="{{item.default_value}}" bindinput="__e"/></view></view></block><block wx:if="{{item.type=='date'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="ib-item-mid"><picker mode="date" name="{{''+item.id}}" value="{{item.default_value}}" start="1949-10-01" end="2019-10-01" data-id="{{item.id}}" data-event-opts="{{[['change',[['bindDateChange',['$event','$0'],[[['form.items','',index]]]]]]]}}" bindchange="__e"><view>{{item.default_value}}</view></picker><image class="icon-img-right" src="/static/image/ic-unfold.png"></image></view></view></view></block><block wx:if="{{item.type=='time'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="ib-item-mid"><picker class="weui-btn" name="{{''+item.id}}" mode="time" value="{{item.default_value}}" start="09:01" end="21:01" data-id="{{item.id}}" data-event-opts="{{[['change',[['bindTimeChange',['$event','$0'],[[['form.items','',index]]]]]]]}}" bindchange="__e"><view>{{item.default_value}}</view></picker><image class="icon-img-right" src="/static/image/ic-unfold.png"></image></view></view></view></block><block wx:if="{{item.type=='checbox'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="checkout-list"><checkbox-group data-value="{{item.id}}" name="{{''+item.id}}" data-event-opts="{{[['change',[['checkboxChange',['$event','$0'],[[['form.items','',index]]]]]]]}}" bindchange="__e"><block wx:for="{{item.checbox_value}}" wx:for-item="checkbox_item" wx:for-index="item_index" wx:key="item_index"><label class="checkout-item"><view class="{{['checkout-item-c',checkbox_item.checked?'black':'']}}"><checkbox value="{{checkbox_item.value}}" checked="{{checkbox_item.checked}}"></checkbox>{{''+checkbox_item.value+''}}</view></label></block></checkbox-group></view></view></view></block><block wx:if="{{item.type=='radio'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+":"}}</text></view><view class="ib-item-right"><radio-group class="uni-list" data-value="{{item.id}}" name="{{''+item.id}}" data-event-opts="{{[['change',[['radioChange',['$event','$0'],[[['form.items','',index]]]]]]]}}" bindchange="__e"><block wx:for="{{item.radio_value}}" wx:for-item="radio_item" wx:for-index="item_index" wx:key="item_index"><label class=" uni-list-cell uni-list-cell-pd "><view class="invoice-type-icon"><block wx:if="{{radio_item==item.default_value}}"><radio class="a-radio" id="{{radio_item}}" value="{{radio_item}}" checked="true"></radio></block><block wx:if="{{radio_item!=item.default_value}}"><radio class="a-radio" id="{{radio_item}}" value="{{radio_item}}"></radio></block></view><view class="invoice-type-c"><label class="label-2-text" for="{{radio_item}}"><text>{{radio_item}}</text></label></view></label></block></radio-group></view></view></block><block wx:if="{{item.type=='area'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="ib-item-mid"><input class="fsz26" name="{{''+item.id}}" data-event-opts="{{[['focus',[['showThreePicker',['$event']]]]]}}" value="{{pickerValue}}" bindfocus="__e"/><area-picker class="fsz26 vue-ref-in-for" vue-id="{{'1-'+index}}" areaId="{{areaId}}" defaultIndex="{{defaultIndex}}" data-ref="areaPicker" data-event-opts="{{[['^onConfirm',[['onConfirm']]]]}}" bind:onConfirm="__e" bind:__l="__l"></area-picker></view></view></view></block><block wx:if="{{item.type=='money'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="ib-item-mid"><input class="ib-item-input" type="digit" name="{{''+item.id}}" placeholder-class="ib-item-input-c" placeholder="{{'请输入'+item.name}}" data-event-opts="{{[['input',[['__set_model',['$0','default_value','$event',[]],[[['form.items','',index]]]]]]]}}" value="{{item.default_value}}" bindinput="__e"/></view></view></view></block><block wx:if="{{item.type=='password'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="ib-item-mid"><input class="ib-item-input" type="password" name="{{''+item.id}}" placeholder-class="ib-item-input-c" placeholder="{{'请输入'+item.name}}" data-event-opts="{{[['input',[['__set_model',['$0','default_value','$event',[]],[[['form.items','',index]]]]]]]}}" value="{{item.default_value}}" bindinput="__e"/></view></view></view></block><block wx:if="{{item.type=='image'}}"><view class="form-input-box-item"><view class="form-input-box-title">{{"上传"+item.name}}</view><view class="form-multiple-rows"><view class="f-m-r-item"><view class="upload-img-list"><view class="upload-img-bd"><block wx:for="{{item.pics}}" wx:for-item="pic_item" wx:for-index="i" wx:key="i"><view class="upload-img"><image class="del-img" data-index="{{i}}" src="/static/image/del.png" data-event-opts="{{[['tap',[['pic_del',['$0',index,i],[[['form.items','',index]]]]]]]}}" bindtap="__e"></image><image class="upload-camera" src="{{pic_item.src}}" mode="aspectFit"></image><input type="text" hidden="hidden" name="{{item.id+'_'+i}}" data-event-opts="{{[['input',[['__set_model',['$0','image_id','$event',[]],[[['form.items','',index],['pics','',i]]]]]]]}}" value="{{pic_item.image_id}}" bindinput="__e"/></view></block></view><view class="upload-img-hd"><image class="upload-camera" src="/static/image/camera.png" data-id="{{item.id}}" data-event-opts="{{[['tap',[['pic_choose',['$event','$0',index],[[['form.items','',index]]]]]]]}}" bindtap="__e"></image></view></view></view></view></view></block><block wx:if="{{item.type=='textarea'}}"><view class="form-input-box-item"><view class="form-input-box-title">{{item.name}}</view><view class="form-multiple-rows"><view class="f-m-r-item form-input-box-item"><textarea class="ib-item-textarea" name="{{''+item.id}}" placeholder="{{'请输入'+item.name}}" placeholder-class="ib-item-input-c"></textarea></view></view></view></block><block wx:if="{{item.type=='coordinate'}}"><view class="form-input-box-item"><view class="ib-item-left"><text>{{item.name+"："}}</text></view><view class="ib-item-right"><view class="ib-item-mid"><image class="icon-img" src="/static/image/ic-location.png"></image><input class="ib-item-input margin-r" placeholder-class="ib-item-input-c" name="{{''+item.id}}" disabled="disabled" placeholder="点击获取位置信息" data-id="{{item.id}}" data-event-opts="{{[['tap',[['chooseLocation',['$event','$0',index],[[['form.items','',index]]]]]]]}}" value="{{item.default_value}}" bindtap="__e"/></view></view></view></block></view></block></view><block wx:if="{{form.type==1}}"><view class="goods-bottom"><text class="goods-total">合计<text class="goods-total-r">{{"￥"+goodsTotalMoney}}</text></text></view></block></view><view class="bottom-btn"><button style="{{'background-color:'+(form.button_color)+';'}}" data-statu="open" form-type="submit" disabled="{{submitStatus}}" loading="{{submitStatus}}">{{form.button_name}}</button></view></form><lvv-popup class="lvvpopref vue-ref" vue-id="2" position="bottom" data-ref="lvvpopref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{showSpecs}}"><block><view class="modal-body" data-statu="closespecs" catchtouchmove="move"><view class="specs-goods-t"><view class="specs-goods-information"><text class="specs-goods-name">{{goodsInfoName}}</text><text class="specs-goods-price">{{"￥"+goodsInfoPrint}}</text></view><view class="close-btn" data-goods="{{select_goods_id}}" data-id="{{select_id}}" data-type="100" data-statu="closespecs" data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" bindtap="__e"><image src="/static/image/close.png"></image></view></view><scroll-view class="specs-goods-c" scroll-y="true"><block wx:for="{{goodsSpesDesc}}" wx:for-item="value" wx:for-index="key" wx:key="key"><view class="color"><text class="salespromotion-service-name">{{key}}</text><view class="salespromotion-service-b"><block wx:for="{{value}}" wx:for-item="i" wx:for-index="item_index" wx:key="item_index"><block><block wx:if="{{i.is_default}}"><view class="pitch-on">{{i.name}}</view></block><block wx:else><block wx:if="{{i.product_id!=0}}"><view class="{{[i.is_default?'pitch-on':'']}}" data-key="{{i.product_id}}" data-id="{{i.name}}" data-event-opts="{{[['tap',[['selectSku',['$event']]]]]}}" bindtap="__e">{{i.name}}</view></block><block wx:else><view class="nothing">{{i.name}}</view></block></block></block></block></view></view></block><view class="number"><text class="salespromotion-service-name">数量</text><view class="stepper"><text data-event-opts="{{[['tap',[['bindMinus',['$event']]]]]}}" class="{{[goodsNums==0?'disabled':'normal']}}" bindtap="__e">-</text><input type="number" data-event-opts="{{[['change',[['bindManual',['$event']]]],['input',[['__set_model',['','goodsNums','$event',[]]]]]]}}" value="{{goodsNums}}" bindchange="__e" bindinput="__e"/><text data-event-opts="{{[['tap',[['bindPlus',['$event']]]]]}}" class="{{[goodsNums==goodsInfoNumber?'disabled':'normal']}}" bindtap="__e">+</text></view></view></scroll-view><view class="detail-footer"><block wx:if="{{status}}"><view class="detail-footer-right determine-next"><view data-event-opts="{{[['tap',[['goodsAddCart',['$event']]]]]}}" class="next" bindtap="__e">下一步</view></view></block><block wx:else><view class="detail-footer-right"><view class="stockno">该商品已售罄</view></view></block></view></view></block></block></lvv-popup></view>