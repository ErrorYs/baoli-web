(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/classify/index"],{

/***/ 53:
/*!*************************************************************************!*\
  !*** F:/杨生的学习资料/实战项目/baoli/main.js?{"page":"pages%2Fclassify%2Findex"} ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _index = _interopRequireDefault(__webpack_require__(/*! ./pages/classify/index.vue */ 54));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 54:
/*!******************************************************!*\
  !*** F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=6b993a14& */ 55);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 57);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&lang=css& */ 59);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 12);

var renderjs





/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

/* hot reload */
if (false) { var api; }
component.options.__file = "F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 55:
/*!*************************************************************************************!*\
  !*** F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue?vue&type=template&id=6b993a14& ***!
  \*************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6b993a14& */ 56);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_6b993a14___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 56:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue?vue&type=template&id=6b993a14& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var l1 = _vm.__map(_vm.specList, function(value, __i2__) {
    var l0 = _vm.__map(value.options, function(item, __i3__) {
      var m0 = _vm.specSelect(value.key, item)
      var m1 = _vm.specSelect(value.key, item)
      return {
        $orig: _vm.__get_orig(item),
        m0: m0,
        m1: m1
      }
    })

    return {
      $orig: _vm.__get_orig(value),
      l0: l0
    }
  })

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        l1: l1
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 57:
/*!*******************************************************************************!*\
  !*** F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 58);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 58:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var lvvPopup = function lvvPopup() {return __webpack_require__.e(/*! import() | components/lvv-popup/lvv-popup */ "components/lvv-popup/lvv-popup").then(__webpack_require__.bind(null, /*! @/components/lvv-popup/lvv-popup.vue */ 596));};var _default =







































































































































































































































{
  data: function data() {
    return {
      current: 0,
      id: '',
      showView: false,
      goodsList: [],
      minPrice: '',
      maxPrice: '',
      ajaxStatus: false,
      loading: true,
      loadingComplete: false,
      nodata: false,
      toView: '',
      searchData: {
        keyword: '',
        where: {},
        limit: 10,
        page: 1,
        order: {
          key: 'sort',
          sort: 'asc' } },


      searchKey: '请输入关键字搜索', //关键词
      alllist: true,
      allgrid: false,
      screents: true,
      screentc: false,
      sPrice: '',
      ePrice: '',
      brand_list: [],
      cat_list: [],
      label_list: [],
      specList: [],
      specSearch: [] };

  },
  //加载执行
  onLoad: function onLoad(options) {
    var where = {};
    if (options.id) {
      where = {
        cat_id: options.id };

      //this.getGoodsClass(options.id);
    }
    // if (options.key) {
    // 	where = {
    // 		search_name: options.key
    // 	};
    // console.log(options)
    this.searchKey = options.key;
    // }
    if (options.type) {
      if (options.type == 'hot') {
        where = {
          hot: true };

      }
      if (options.type == 'recommend') {
        where = {
          recommend: true };

      }
    }
    if (options.cat_id) {
      where.cat_id = options.cat_id;
    }
    if (options.brand_id) {
      where.brand_id = options.brand_id;
    }
    if (options.hot) {
      where.hot = options.hot;
    }
    if (options.recommend) {
      where.recommend = options.recommend;
    }
    if (options.label_id) {
      where.label_id = options.label_id;
    }


    this.setSearchData({
      where: where,
      keyword: options.key });

    if (options.sortBy) {
      var order = {};
      order.key = options.sortBy;
      order.sort = "desc";
      this.setSearchData({
        where: where,
        keyword: options.key,
        order: order });

    }

    this.getGoods();
  },

  components: {
    lvvPopup: lvvPopup },

  methods: {
    specSelect: function specSelect(key, value) {
      var flag = false;
      for (var i = 0; i < this.specSearch.length; i++) {
        if (this.specSearch[i][key] === value) {
          flag = true;
          break;
        }
      }
      return flag;
    },

    listGrid: function listGrid() {
      if (this.current == 0) {
        this.current = 1;
      } else {
        this.current = 0;
      }
    },
    //设置查询条件
    setSearchData: function setSearchData(searchData) {var clear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var sd = this.searchData;
      this.searchData = this.$common.deepCopy(sd, searchData);
      if (clear) {
        this.goodsList = [];
      }
    },
    //获取分类名称
    // 		getGoodsClass: function(id) {
    // 			let data = {
    // 				id: id
    // 			};
    // 			this.$api.getGoodsClass(data, function(res) {
    // 				wx.setNavigationBarTitle({
    // 					title: res.data
    // 				});
    // 			});
    // 		},
    onChangeShowState: function onChangeShowState() {
      var _this = this;
      _this.showView = !_this.showView;
    },
    //点击综合排序
    comprehensive: function comprehensive() {
      this.setSearchData({
        order: {
          key: 'sort',
          sort: 'asc' },

        page: 1 },

      true);

      this.getGoods();
    },
    //销量
    salesVolume: function salesVolume() {
      if (this.searchData.order.key == 'sold') {
        if (this.searchData.order.sort == 'desc') {
          this.searchData.order.sort = 'asc';
        } else {
          this.searchData.order.sort = 'desc';
        }
      } else {
        this.searchData.order = {
          key: 'sold',
          sort: 'desc' };

      }
      this.searchData.page = 1; //从第一页重新显示
      this.setSearchData(this.searchData, true);
      this.getGoods();
    },
    //价格排序
    priceSort: function priceSort() {
      if (this.searchData.order.key == 'price') {
        if (this.searchData.order.sort == 'desc') {
          this.searchData.order.sort = 'asc';
        } else {
          this.searchData.order.sort = 'desc';
        }
      } else {
        this.searchData.order = {
          key: 'price',
          sort: 'asc' };

      }
      this.searchData.page = 1; //从第一页重新显示
      this.setSearchData(this.searchData, true);
      this.getGoods();
    },
    //设置查询价格区间
    // 		orderPrice: function(e) {
    // 			var reg = /^[0-9]+(.[0-9]{2})?$/;
    // 			if (!reg.test(e.detail.value)) {
    // 				this.$common.errorToShow('请输入正确金额');
    // 				this.maxPrice = '';
    // 			} else {
    // 				this.maxPrice = e.detail.value;
    // 			}
    // 		},
    //查询价格区间
    // 		searchPrice: function(event) {
    // 			if (
    // 				this.minPrice > 0 &&
    // 				this.maxPrice > 0 &&
    // 				this.minPrice > this.maxPrice
    // 			) {
    // 				app.common.errorToShow('价格区间有误');
    // 				return false;
    // 			}
    // 
    // 			this.setSearchData(
    // 				{
    // 					page: 1,
    // 					where: {
    // 						price_f: this.minPrice,
    // 						price_t: this.maxPrice
    // 					}
    // 				},
    // 				true
    // 			);
    // 			this.getGoods();
    // 		},
    //页面相关事件处理函数--监听用户下拉动作
    onPullDownRefresh: function onPullDownRefresh() {},
    //跳转到商品详情页面
    goodsDetail: function goodsDetail(id) {
      var url = '/pages/goods/index/index?id=' + id;
      this.$common.navigateTo(url);
    },
    //取得商品数据
    getGoods: function getGoods() {
      var _this = this;
      if (_this.ajaxStatus) {
        return false;
      }
      _this.ajaxStatus = true;
      _this.loading = true;
      _this.loadingComplete = false;
      _this.nodata = true;
      //如果已经没有数据了，就不取数据了，直接提示已经没有数据
      if (_this.loadingComplete) {
        _this.$common.errorToShow("暂时没有数据了");
        return false;
      }


      _this.$api.goodsList(_this.conditions(), function (res) {
        if (res.status) {
          //判是否没有数据了，只要返回的记录条数小于总记录条数，那就说明到底了，因为后面没有数据了
          var isEnd = false;
          if (res.data.list.length < _this.searchData.limit) {
            isEnd = true;
          }
          //判断是否为空
          var isEmpty = false;
          if (_this.searchData.page == 1 && res.data.list.length == 0) {
            isEmpty = true;
          }

          if (res.data.class_name) {
            console.log(res.data.keyword);
            uni.setNavigationBarTitle({
              title: res.data.class_name });

          } else {
            if (res.data.keyword) {
              console.log(res.data.keyword);
              uni.setNavigationBarTitle({
                title: '商品搜索' });

            }
          }

          _this.goodsList = _this.goodsList.concat(res.data.list);
          _this.ajaxStatus = false;
          _this.loading = !isEnd && !isEmpty;
          _this.toView = '';
          _this.loadingComplete = isEnd && !isEmpty;
          _this.nodata = isEmpty;
          if (res.data.spec) {
            _this.specList = res.data.spec;
          }
          if (res.data.filter) {
            var filter = res.data.filter;
            if (filter.brand_ids) {
              for (var i = 0; i < filter.brand_ids.length; i++) {
                filter.brand_ids[i].isSelect = false;
              }
              _this.brand_list = filter.brand_ids;
            }
            if (filter.goods_cat) {
              for (var _i = 0; _i < filter.goods_cat.length; _i++) {
                filter.goods_cat[_i].isSelect = false;
              }
              _this.cat_list = filter.goods_cat;
            }
            if (filter.label_ids) {
              for (var _i2 = 0; _i2 < filter.label_ids.length; _i2++) {
                filter.label_ids[_i2].isSelect = false;
              }
              _this.label_list = filter.label_ids;
            }

          }
        }
      });
    },
    //上拉加载
    lower: function lower() {
      var _this = this;
      _this.toView = 'loading';

      if (!_this.loadingComplete) {
        _this.setSearchData({
          page: _this.searchData.page + 1 });

        _this.getGoods();
      }
    },
    listgrid: function listgrid() {
      var _this = this;
      if (_this.alllist) {
        _this.allgrid = true;
        _this.listgrid = true;
        _this.alllist = false;
      } else {
        _this.allgrid = false;
        _this.listgrid = false;
        _this.alllist = true;
      }
    },
    // 统一返回筛选条件 查询条件 分页
    conditions: function conditions() {
      var data = this.searchData;
      console.log(data.order);
      // this.searchData.specSearch = 
      var newData = {};
      newData = this.$common.deepCopy(newData, data);
      newData.specSearch = this.specSearch;
      // //把data里的where换成json
      // if(data.where){
      // 	newData.where = JSON.stringify(data.where);
      // }
      //把排序换成字符串
      if (data.order) {
        var sort = data.order.key + '-' + data.order.sort;
        if (data.order.key != 'sort') {
          sort = sort + ',sort-asc'; //如果不是综合排序，增加上第二个排序优先级排序
        }
        newData.order = sort;
      } else {
        newData.order = 'sort-asc';
      }
      return newData;
    },
    //老搜索
    search: function search() {
      this.setSearchData({
        page: 1,
        keyword: this.keyword },


      true);

      this.getGoods();
    },
    //去搜索
    goSearch: function goSearch() {
      var pages = getCurrentPages();
      var prevPage = pages[pages.length - 2];

      if (prevPage && prevPage.route) {
        var search_flag = prevPage.route;
        if (search_flag == 'pages/index/search') {
          uni.navigateBack({
            delta: 1 });

        } else {
          this.$common.navigateTo('/pages/index/search');
        }
      } else {
        this.$common.navigateTo('/pages/index/search');
      }
















    },
    //筛选条件弹出窗口
    toshow: function toshow() {
      this.$refs.lvvpopref.show();
      this.screents = false;
      this.screentc = true;
    },
    //关闭筛选
    toclose: function toclose() {
      this.$refs.lvvpopref.close();
      this.screentc = false;
      this.screents = true;
    },
    //取消筛选
    filterNo: function filterNo() {
      this.ePrice = '';
      this.sPrice = '';
      for (var i = 0; i < this.cat_list.length; i++) {
        this.cat_list[i].isSelect = false;
      }
      for (var _i3 = 0; _i3 < this.brand_list.length; _i3++) {
        this.brand_list[_i3].isSelect = false;
      }
      for (var _i4 = 0; _i4 < this.label_list.length; _i4++) {
        this.label_list[_i4].isSelect = false;
      }
      this.filterOk();
      this.toclose();
    },
    //确认筛选
    filterOk: function filterOk() {
      var data = this.searchData;

      //获取分类
      // data.where.cat_id = '';
      for (var i = 0; i < this.cat_list.length; i++) {
        if (this.cat_list[i].isSelect) {
          data.where.cat_id = this.cat_list[i].goods_cat_id;
        }
      }

      //获取多个品牌
      var brand_ids = '';
      for (var _i5 = 0; _i5 < this.brand_list.length; _i5++) {
        if (this.brand_list[_i5].isSelect) {
          brand_ids += this.brand_list[_i5].brand_id + ',';
        }
      }
      if (brand_ids) {
        brand_ids = brand_ids.substr(0, brand_ids.length - 1);
      }
      data.where.brand_id = brand_ids;

      //获取标签
      data.where.label_id = '';
      for (var _i6 = 0; _i6 < this.label_list.length; _i6++) {
        if (this.label_list[_i6].isSelect) {
          data.where.label_id = this.label_list[_i6].id;
        }
      }

      //价格区间
      data.where.price_f = '';
      data.where.price_t = '';
      if (this.sPrice * 1 < 0 || this.ePrice != '' && this.ePrice <= 0 || this.ePrice * 1 < 0 || this.sPrice * 1 >
      this.ePrice * 1 && this.sPrice != '' && this.ePrice != '') {
        this.$common.errorToShow('价格区间有误');
        return false;
      } else {
        data.where.price_f = this.sPrice;
        data.where.price_t = this.ePrice;
      }
      this.setSearchData(data, true);
      this.getGoods();
      this.toclose();
    },
    selectSpec: function selectSpec(key, value) {
      console.log(key + value);
      if (this.specSearch.length > 0) {
        var index = -1;
        for (var i = 0; i < this.specSearch.length; i++) {
          for (var k in this.specSearch[i]) {
            if (key === k) {
              if (this.specSearch[i][k] == value) {
                this.specSearch.splice(i, 1);
                return;
              }
              index = i;
              break;
            }
          }
        }
        if (index === -1) {
          var obj = {};
          obj[key] = value;
          this.specSearch.push(obj);
        } else {
          this.specSearch[index][key] = value;
        }
      } else {
        var _obj = {};
        _obj[key] = value;
        this.specSearch.push(_obj);
      }
    },
    //选择
    selectKey: function selectKey(type, id) {
      //分类一次只能选择一个
      if (type == 'cat_list') {
        for (var i = 0; i < this.cat_list.length; i++) {
          if (this.cat_list[i].goods_cat_id == id) {
            this.cat_list[i].isSelect = this.cat_list[i].isSelect ? false : true;
          } else {
            this.cat_list[i].isSelect = false;
          }
        }
      }

      if (type == 'brand_list') {
        for (var _i7 = 0; _i7 < this.brand_list.length; _i7++) {
          if (this.brand_list[_i7].brand_id == id) {
            this.brand_list[_i7].isSelect = this.brand_list[_i7].isSelect ? false : true;
          }
        }
      }

      if (type == 'label_list') {
        for (var _i8 = 0; _i8 < this.label_list.length; _i8++) {
          if (this.label_list[_i8].id == id) {
            this.label_list[_i8].isSelect = this.label_list[_i8].isSelect ? false : true;
          } else {
            this.label_list[_i8].isSelect = false;
          }
        }
      }
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 59:
/*!***************************************************************************************!*\
  !*** F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */ 60);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 60:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!F:/杨生的学习资料/实战项目/baoli/pages/classify/index.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[53,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/classify/index.js.map