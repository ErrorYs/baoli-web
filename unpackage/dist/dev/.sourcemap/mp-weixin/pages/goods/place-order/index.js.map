{"version":3,"sources":["webpack:///F:/杨生的学习资料/实战项目/baoli/main.js","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue?b0aa","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue?cc84","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue?7ef6","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue?3366","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue?2cbb","webpack:///F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue?6b0f"],"names":["createPage","Page","mixins","goods","data","type_items","type_current","cartData","products","promotions","userShip","receiptType","params","ids","areaId","coupon_code","point","type","invoice","name","code","note","items","orderType","current","isUsePoint","userPointNums","canUsePoint","pointMoney","userCoupons","usedCoupons","inputCouponCode","optCoupon","store","id","mobile","address","store_pick","team_id","submitStatus","components","lvvPopup","uniSegmentedControl","onLoad","options","cartIds","cart_ids","order_type","JSON","parse","$common","successToShow","uni","navigateBack","delta","userDefaultShip","onShow","methods","onTypeItem","index","getCartList","goStorelist","navigateTo","url","goAddress","$api","res","status","Object","keys","length","cartList","isOpenPoint","money","order_money","amount","usablePoint","available_point","point_rmb","formatMoney","goods_amount","goods_pmt_old","goods_pmt","coupon_pmt","order_pmt_old","order_pmt","point_money","cost_freight","list","promotion_list","coupon","$refs","lvvpopref","popshow","toclose","errorToShow","msg","errStatus","indexOf","removeCouponCode","forEach","item","checked","getUserCounpons","display","userCoupon","_list","nowTime","Math","round","Date","getTime","toString","$set","start_time","disabled","couponHandle","arr","push","join","paramsCodes","split","usedIndex","splice","useInputCouponCode","notUseCoupon","changePointHandle","toshow","show","close","toPay","e","receipt_type","stringify","delivery","addressId","store_id","lading_name","lading_mobile","detail","formId","assign","createOrder","redirectTo","orderId","goInvoice","showAddressList","onClickItem","getDefaultStore","defaultStore","store_name","store_mobile","all_address","computed","productNums","quantity","i","selected","$store","state","config","point_switch","invoiceSwitch","invoice_switch","storeSwitch","store_switch","couponIsUsed","Array","watch","handler","deep"],"mappings":"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","file":"pages/goods/place-order/index.js","sourcesContent":["import 'uni-pages';\n\nimport Vue from 'vue'            \nimport Page from './pages/goods/place-order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=85c8a756&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('85c8a756')) {\n      api.createRecord('85c8a756', component.options)\n    } else {\n      api.reload('85c8a756', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=85c8a756&\", function () {\n      api.rerender('85c8a756', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/杨生的学习资料/实战项目/baoli/pages/goods/place-order/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=85c8a756&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import lvvPopup from '@/components/lvv-popup/lvv-popup.vue'\n    import uniSegmentedControl from \"@/components/uni-segmented-control/uni-segmented-control.vue\"\n    import { goods } from '@/config/mixins.js'\n    export default {\n        mixins: [ goods ],\n        data () {\n            return {\n                type_items: ['快递配送','门店自提'],//门店自提切换\n                type_current: 0,\n                cartData: {}, // 购物车商品详情\n                products: [], // 货品信息\n                promotions: [], // 促销信息\n                userShip: {}, // 用户收货地址\n                receiptType: 1, // 订单类型 1是发货订单 2是门店自提订单\n                params: {\n                    ids: 0, // 传递过来的购物车id\n                    areaId: 0, // 收货地址id\n                    coupon_code: '', // 优惠券码列表(string)多张逗号分隔\n                    point: 0 ,// 抵扣积分额\n                    type :1 ,//购物车类型\n                }, // 监听params参数信息 以重新请求接口\n                // 发票信息\n                invoice: {\n                    type: '1',\t// 类型 1不开发票 2个人发票 3公司发票\n                    name: '不开发票',\t// 发票抬头\n                    code: ''\t// 发票税号\n                },\n                note: '', // 买家留言\n                items: [\n                    '选择优惠券',\n                    '输入券码',\n                ],\n                orderType: 1, // 商品订单类型 1\n                current: 0,\n                isUsePoint: false,\t// 是否勾选使用积分\n                userPointNums: 0, // 用户的总积分\n                canUsePoint: 0,\t// 可以使用的积分\n                pointMoney: '', // 积分抵扣的金额\n                userCoupons: [], // 用户的可用优惠券列表\n                usedCoupons: {}, // 已经选择使用的优惠券\n                inputCouponCode: '', // 输入的优惠券码\n                optCoupon: '' ,// 当前选择使用的优惠券(暂存使用 如果接口返回不可用则剔除优惠券状态)\n                store : {\n                    id: 0,\n                    name: '',\n                    mobile: '',\n                    address: ''\n                },\n                store_pick: {\n                    name: '',\n                    mobile: ''\n                },\n                team_id: 0, //拼团id\n\t\t\t\tsubmitStatus: false\n            }\n        },\n        components: {lvvPopup,uniSegmentedControl},\n        onLoad (options) {\n            let cartIds = options.cart_ids;\n            if(options.order_type){\n                this.params.order_type = options.order_type;\n            }\n            if(options.team_id){\n                this.team_id = options.team_id;\n            }\n\t\t\t\n            this.params.ids = JSON.parse(cartIds)\n            if (!this.params.ids) {\n                this.$common.successToShow('获取失败', function(){\n                    uni.navigateBack({\n                        delta: 1\n                    })\n                })\n            }\n            // 获取用户的默认收货地址信息\n            this.userDefaultShip()\n\n            // 获取用户的可用优惠券信息\n            // this.getUserCounpons()\n\n            //获取默认门店信息\n            // this.getDefaultStore();\n        },\n\t\tonShow() {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t},\n        methods: {\n            // 切换门店\n            onTypeItem(index) {\n                if (this.type_current !== index) {\n                    this.type_current = index;\n                }\n                let receiptType = 1;\n                if(this.type_current != 0){\n                    receiptType = 2;\n                }\n                this.receiptType = receiptType;\n\n                this.getCartList();\n            },\n            // 跳转到门店列表\n            goStorelist(){\n                uni.navigateTo({\n                    url: './storelist'\n                })\n            },\n            // 没有收货地址时跳转\n            goAddress(){\n                uni.navigateTo({\n                    url: '/pages/member/address/list?type=order'\n                })\n            },\n            // 获取用户的默认收货地址\n            userDefaultShip () {\n                this.$api.userDefaultShip({}, res => {\n                    if (res.status && Object.keys(res.data).length) {\n                        this.userShip = res.data\n                        this.params.areaId = this.userShip.areaId\n                    }\n                })\n            },\n            // 获取购物车商品详情\n            getCartList () {\n                let data = this.params\n                data['receipt_type'] = this.receiptType\t// 区分订单类型  1快递订单 2门店自提订单\n\n                this.$api.cartList(data, res => {\n                    if (res.status) {\n                        let data = res.data\n\n                        // 判断是否开启积分抵扣 并且 没有勾选积分使用\n                        if (this.isOpenPoint === 1 && !this.isUsePoint) {\n                            let money = {\n                                order_money: data.amount\n                            }\n                            this.$api.usablePoint(money, res => {\n                                if (res.status) {\n                                    this.userPointNums = res.data\t// 用户总积分\n                                    this.canUsePoint = res.available_point\t// 可以使用的积分\n                                    this.pointMoney = res.point_rmb\t// 积分抵扣的总金额\n                                }\n                            })\n                        }\n\n                        // 所有价格转换\n                        data.amount = this.$common.formatMoney(data.amount);\n                        data.goods_amount = this.$common.formatMoney(data.goods_amount);\n                        data.goods_pmt_old = data.goods_pmt;\n                        data.goods_pmt = this.$common.formatMoney(data.goods_pmt);\n                        data.coupon_pmt = this.$common.formatMoney(data.coupon_pmt);\n                        data.order_pmt_old = data.order_pmt;\n                        data.order_pmt = this.$common.formatMoney(data.order_pmt);\n                        data.point_money = this.$common.formatMoney(data.point_money);\n                        data.cost_freight = this.$common.formatMoney(data.cost_freight);\n\n                        // 购物车详情\n                        this.cartData = data\n                        // 商品详情\n                        this.products = data.list\n                        // 优惠信息\n                        this.promotions = data.promotion_list\n                        // 使用的优惠券信息\n                        this.usedCoupons = data.coupon\n\n                        // 手动输入的优惠券使用成功后关闭弹窗并清除输入的优惠券码\n                        this.current === 1 && this.$refs.lvvpopref.popshow && this.inputCouponCode ? this.toclose() : ''\n                        this.inputCouponCode = ''\n\n                        this.optCoupon = ''\n                    } else {\n                        this.$common.errorToShow(res.msg, () => {\n                            // 优惠券不可用状态判断\n                            // 优惠券号码不存在 \t\t\t15009\n                            // 优惠券未开始\t\t\t\t15010\n                            // 优惠券已使用\t\t\t\t15013\n                            // 优惠券不符合使用规则\t\t15014\n                            // 优惠券不可使用多张\t\t\t15015\n                            let errStatus = [15009, 15010, 15013, 15014, 15015]\n\n                            if (errStatus.indexOf(res.data) !== -1) {\n                                // 删除使用的优惠券号码\n                                if (this.current === 1) {\n                                    this.removeCouponCode(this.inputCouponCode, this.current)\n                                } else {\n                                    // 取消选择使用的状态\n                                    if (this.optCoupon) {\n                                        this.userCoupons.forEach(item => {\n                                            if (item.coupon_code === this.optCoupon) {\n                                                item.checked = false\n                                            }\n                                        })\n                                    }\n                                    this.removeCouponCode(this.optCoupon, this.current)\n                                }\n                            }\n                        })\n                    }\n                })\n            },\n            // 获取用户可用的优惠券信息\n            getUserCounpons () {\n                let data = {\n                    display: 'no_used'\n                }\n                this.$api.userCoupon(data, res => {\n                    if (res.status) {\n                        let _list = res.data.list\n                        let nowTime = Math.round(new Date().getTime() / 1000).toString()\n                        _list.forEach(item => {\n                            this.$set(item, 'checked', false)\n                            // 判断优惠券是否有效(开始时间)\n                            this.$set(item, 'disabled', item.start_time > nowTime ? true : false)\n                            this.$set(item, 'cla', item.disabled ? 'cci-l bg-c' : 'cci-l')\t// 绑定相应的class样式\n                        })\n                        this.userCoupons = _list\n                    }\n                })\n            },\n            // 点击使用/取消优惠券操作\n            couponHandle (index) {\n                // 更改使用/取消状态\n                this.userCoupons[index].checked = !this.userCoupons[index].checked\n\n                // 暂存当次选中使用的优惠券key\n                this.optCoupon = this.userCoupons[index].coupon_code\n\n                let arr = []\n                this.userCoupons.forEach(item => {\n                    if (item.checked) {\n                        arr.push(item.coupon_code)\n                    }\n                })\n                if (this.userCoupons[index].checked) {\n                    // 使用\n                    this.params.coupon_code = arr.join()\n                } else {\n                    // 取消使用\n                    let paramsCodes = this.params.coupon_code.split(',')\n                    let usedIndex = paramsCodes.indexOf(this.userCoupons[index].coupon_code)\n                    if (usedIndex !== -1) {\n                        paramsCodes.splice(usedIndex, 1)\n                        this.params.coupon_code = paramsCodes.join()\n                    }\n                }\n            },\n            // 手输的优惠券码使用\n            useInputCouponCode () {\n                if (!this.inputCouponCode) {\n                    this.$common.errorToShow('请输入优惠券码')\n                } else {\n                    // 判断是否有使用的优惠券\n                    if (this.params.coupon_code.length > 0) {\n                        this.params.coupon_code += ',' + this.inputCouponCode\n                    } else {\n                        this.params.coupon_code = this.inputCouponCode\n                    }\n                }\n            },\n            // 不使用优惠券\n            notUseCoupon () {\n                this.toclose()\n                this.inputCouponCode = ''\t// 清空手输的优惠券码\n                this.userCoupons.forEach(item => {\n                    item.checked = false\n                }) // 取消所有选中的使用状态\n                this.params.coupon_code = ''\t// 清空params优惠券码\n            },\n            // 移除/取消使用中的指定优惠券\n            removeCouponCode (code, current) {\n                let arr = this.params.coupon_code.split(',')\n                arr.splice(arr.indexOf(code), 1)\n                current === 0 ? this.optCoupon = '' : this.inputCouponCode = ''\n                this.params.coupon_code = arr.join()\n            },\n            // 是否使用积分\n            changePointHandle(){\n                if(this.userPointNums > 0){\n                    this.isUsePoint = !this.isUsePoint;\n                    this.params.point = this.isUsePoint ? this.canUsePoint : 0;\n                }\n            },\n            // 显示modal弹出框\n            toshow(){\n                this.$refs.lvvpopref.show();\n            },\n            // 关闭modal弹出框\n            toclose(){\n                this.$refs.lvvpopref.close();\n            },\n            // 去支付\n            toPay (e) {\n\t\t\t\tthis.submitStatus = true;\n                let receiptType = 1;\n                if(this.type_current != 0){\n                    receiptType = 2;\n                }\n                this.receiptType = receiptType;\n\n                let data = {\n                    ids: this.params.ids,\n                    note: this.note,\n                    coupon_code: this.params.coupon_code,\n                    point: this.params.point,\n                    receipt_type: this.receiptType\n                }\n                data['order_type'] = this.params.order_type; //订单类型\n                if(this.team_id != 0){\n                    data['params'] = JSON.stringify({team_id:this.team_id})  //团id\n                }\n                let delivery = {}\n                // 判断是快递配送还是门店自提\n                if(this.receiptType == 1){\n                    if(!this.userShip.id || !this.params.areaId){\n                        this.$common.errorToShow('请选择收货地址');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    // 快递配送\n                    delivery = {\n                        addressId: this.userShip.id,\n                        // areaId: this.params.areaId\n                    }\n                }\n                if(this.receiptType == 2){\n                    if(!this.store.id){\n                        this.$common.errorToShow('请选择自提门店');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    if(!this.store_pick.name){\n                        this.$common.errorToShow('请输入提货人姓名');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    if(!this.store_pick.mobile){\n                        this.$common.errorToShow('请输入提货人电话');\n\t\t\t\t\t\tthis.submitStatus = false;\n                        return false;\n                    }\n                    // 门店自提\n                    delivery = {\n                        store_id: this.store.id,\n                        lading_name: this.store_pick.name,\n                        lading_mobile: this.store_pick.mobile\n                    }\n                }\n\n                // 发票信息\n                data['tax_type'] = this.invoice.type\n                data['tax_name'] = this.invoice.name\n                data['tax_code'] = this.invoice.code\n\n\n\n\n\n                data['source'] = 3;\n\t\t\t\tdata['formId'] = e.detail.formId;\n\n\n\n\n\n\n\n\n\n\n\n                data = Object.assign(data, delivery)\n\n                this.$api.createOrder(data, res => {\n                    if (res.status) {\n                        // 创建订单成功 去支付\n\t\t\t\t\t\t// this.submitStatus = false;\n                        this.$common.redirectTo('/pages/goods/payment/index?order_id=' + res.data.orderId + '&type=' + this.orderType)\n                    }else{\n                        this.$common.errorToShow(res.msg);\n\t\t\t\t\t\t// this.submitStatus = false;\n                    }\n                },res => {\n\t\t\t\t\tthis.submitStatus = false;\n\t\t\t\t})\n            },\n            // 跳转发票页面\n            goInvoice () {\n                this.$common.navigateTo('./invoice')\n            },\n            // 跳转我的收货地址列表\n            showAddressList () {\n                this.$common.navigateTo('/pages/member/address/list?type=order')\n            },\n            // tab点击切换\n            onClickItem(index) {\n                if (this.current !== index) {\n                    this.current = index;\n                }\n            },\n            // 获取默认店铺\n            getDefaultStore(){\n                this.$api.defaultStore({}, res => {\n                    if(res.status){\n\t\t\t\t\t\tif (res.data && res.data.id) {\n\t\t\t\t\t\t\tlet store = {\n\t\t\t\t\t\t\t    id: res.data.id || 0,\n\t\t\t\t\t\t\t    name: res.data.store_name || '',\n\t\t\t\t\t\t\t    mobile: res.data.store_mobile || '',\n\t\t\t\t\t\t\t    address: res.data.all_address || ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.store = store;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$common.errorToShow('商家未配置默认自提店铺！');\n\t\t\t\t\t\t}\n                    }\n                });\n            }\n            //扫码\n// \t\tscanCode() {\n// \t\t\tconsole.log(1);\n// \t\t\tuni.scanCode({\n// \t\t\t\tsuccess(res) {\n// \t\t\t\t\tconsole.log(2);\n// \t\t\t\t\tconsole.log(res)\n// \t\t\t\t},\n// \t\t\t\tcomplete(res){\n// \t\t\t\t\tconsole.log(3);\n// \t\t\t\t\tconsole.log(res)\n// \t\t\t\t},\n// \t\t\t\tfail(res) {\n// \t\t\t\t\tconsole.log(4);\n// \t\t\t\t\tconsole.log(res)\n// \t\t\t\t}\n// \t\t\t})\n// \t\t}\n        },\n        computed: {\n            // 计算购物车商品数量\n            productNums () {\n                let quantity = 0\n                for (let i in this.cartData.list) {\n\t\t\t\t\tif(this.cartData.list[i].selected){\n\t\t\t\t\t\tquantity += this.cartData.list[i].quantity;\n\t\t\t\t\t}\n                }\n                return quantity\n            },\n            // 判断商户是否开启积分抵扣 1开启 2未开启\n            isOpenPoint () {\n                return this.$store.state.config.point_switch\n            },\n            // 获取使用的优惠券名称\n            // usedCouponsCompute () {\n            //     let name = '未使用'\n            //     if (Object.keys(this.usedCoupons).length) {\n            //         let coupons = []\n            //         for (let i in this.usedCoupons) {\n            //             coupons.push(this.usedCoupons[i])\n            //         }\n            //         name = coupons.join()\n            //     }\n            //     return name\n            // },\n            // 判断是否开启发票功能\n            invoiceSwitch () {\n                return this.$store.state.config.invoice_switch || 2;\n            },\n            // 判断店铺开关\n            storeSwitch() {\n                return this.$store.state.config.store_switch || 2;\n            },\n            // 根据接口返回数据判断是否使用优惠券\n            couponIsUsed () {\n                return this.cartData.coupon instanceof Array\n            }\n        },\n        watch: {\n            // 监听数据状态(切换收货地址, 是否使用优惠券, 是否使用积分) 重新请求订单数据\n            params: {\n                handler () {\n                    this.getCartList()\n                },\n                deep: true\n            }\n        }\n    }\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}